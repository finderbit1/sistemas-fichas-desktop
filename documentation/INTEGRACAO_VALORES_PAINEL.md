# üí∞ Integra√ß√£o de Valores - Painel Completo

## ‚úÖ Sistema de C√°lculo Autom√°tico

O formul√°rio de Painel Completo possui um **sistema de c√°lculo autom√°tico** que integra todos os valores em tempo real!

---

## üßÆ Como Funciona

### 1. Valor Base
```
Valor do Painel: R$ 150,00
```

### 2. Ilh√≥s (se marcado)
```
Ilh√≥s marcado: ‚úÖ
‚îú‚îÄ Quantidade: 8
‚îú‚îÄ Valor Unit√°rio: R$ 0,50
‚îî‚îÄ Total Ilh√≥s: R$ 4,00 (calculado automaticamente)
```

### 3. Cordinha (se marcada)
```
Cordinha marcada: ‚úÖ
‚îú‚îÄ Quantidade: 2
‚îú‚îÄ Valor Unit√°rio: R$ 1,50
‚îî‚îÄ Total Cordinha: R$ 3,00 (calculado automaticamente)
```

### 4. Valores Adicionais (opcional)
```
Valores Adicionais: R$ 10,00
```

### 5. VALOR TOTAL (calculado automaticamente)
```
R$ 150,00  (Painel)
+  R$ 4,00  (Ilh√≥s)
+  R$ 3,00  (Cordinha)
+ R$ 10,00  (Adicionais)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
= R$ 167,00  ‚úÖ TOTAL FINAL
```

---

## üé® Visual do Resumo

O resumo aparece automaticamente quando voc√™ preenche o valor do painel:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí∞ Composi√ß√£o do Valor Total  [Com Extras]‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                          ‚îÇ
‚îÇ Valor Base do Painel:      R$ 150,00    ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ ‚îÇ + Ilh√≥s (8 √ó R$ 0,50): R$ 4,00    ‚îÇ  ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ ‚îÇ + Cordinha (2 √ó R$ 1,50): R$ 3,00 ‚îÇ  ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ + Valores Adicionais:      R$ 10,00     ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ ‚îÇ  VALOR TOTAL:       R$ 167,00 ‚≠ê   ‚îÇ  ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ‚ú® Features Implementadas

### 1. C√°lculo em Tempo Real
- ‚úÖ Atualiza instantaneamente ao digitar
- ‚úÖ N√£o precisa clicar em nenhum bot√£o
- ‚úÖ Usa `useMemo` para performance

### 2. Formata√ß√£o Autom√°tica
- ‚úÖ Valores formatados em reais (R$)
- ‚úÖ Separador de milhar (.)
- ‚úÖ Separador decimal (,)
- ‚úÖ Sempre 2 casas decimais

### 3. Visual Destacado
- ‚úÖ Fundo gradiente roxo
- ‚úÖ Badge "Com Extras" quando h√° ilh√≥s/cordinha
- ‚úÖ Ilh√≥s em azul claro (#90caf9)
- ‚úÖ Cordinha em verde claro (#a5d6a7)
- ‚úÖ Total em amarelo dourado (#ffd740)

### 4. Responsivo
- ‚úÖ Aparece s√≥ quando h√° valor do painel
- ‚úÖ Mostra s√≥ os itens preenchidos
- ‚úÖ Esconde itens zerados

---

## üîÑ Fluxo de C√°lculo

### Passo a Passo

```javascript
// 1. Usu√°rio marca "Ilh√≥s"
formData.opcoes.ilhos = true

// 2. Preenche quantidade
formData.ilhosQtd = "8"

// 3. Preenche valor unit√°rio
formData.ilhosValorUnitario = "0,50"

// 4. Sistema calcula automaticamente (useMemo)
valorTotalIlhos = 8 √ó 0.50 = 4.00

// 5. Integra no valor total (useMemo)
valorTotalGeral = valorPainel + valorIlhos + valorCordinha + valorAdicionais
valorTotalGeral = 150.00 + 4.00 + 0.00 + 0.00 = 154.00

// 6. Exibe formatado
"R$ 154,00"
```

---

## üìä Exemplos Pr√°ticos

### Exemplo 1: S√≥ Painel
```
Painel: R$ 150,00
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL:  R$ 150,00
```

### Exemplo 2: Painel + Ilh√≥s
```
Painel: R$ 150,00
Ilh√≥s:  R$   4,00 (8 √ó R$ 0,50)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL:  R$ 154,00
```

### Exemplo 3: Painel + Ilh√≥s + Cordinha
```
Painel:   R$ 150,00
Ilh√≥s:    R$   4,00 (8 √ó R$ 0,50)
Cordinha: R$   3,00 (2 √ó R$ 1,50)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL:    R$ 157,00
```

### Exemplo 4: Tudo Completo
```
Painel:     R$ 150,00
Ilh√≥s:      R$   4,00 (8 √ó R$ 0,50)
Cordinha:   R$   3,00 (2 √ó R$ 1,50)
Adicionais: R$  10,00
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL:      R$ 167,00 ‚≠ê
```

---

## üéØ Valida√ß√µes

### Valores Obrigat√≥rios
- ‚ùå Se marcar ilh√≥s ‚Üí campos de ilh√≥s s√£o obrigat√≥rios
- ‚ùå Se marcar cordinha ‚Üí campos de cordinha s√£o obrigat√≥rios
- ‚úÖ Valida√ß√£o em tempo real

### C√°lculos Autom√°ticos
- ‚úÖ Ilh√≥s: `quantidade √ó valor_unit√°rio`
- ‚úÖ Cordinha: `quantidade √ó valor_unit√°rio`
- ‚úÖ Total: `painel + ilh√≥s + cordinha + adicionais`

---

## üí° Dicas de Uso

### Para ver o resumo completo:
1. Preencha o valor do painel
2. Marque ilh√≥s ou cordinha (opcional)
3. Preencha os campos que aparecem
4. **Veja o resumo aparecer automaticamente!**

### Para valores corretos:
- ‚úÖ Use a formata√ß√£o autom√°tica (s√≥ digite n√∫meros)
- ‚úÖ O sistema calcula tudo sozinho
- ‚úÖ Confira o resumo antes de salvar

### Badge "Com Extras":
- Aparece quando h√° ilh√≥s OU cordinha
- Indica que o valor tem componentes extras
- Visual: fundo branco, texto escuro

---

## üîß C√≥digo T√©cnico

### useMemo para Performance

```javascript
// Calcula total de ilh√≥s (s√≥ recalcula se mudar)
const valorTotalIlhos = useMemo(() => {
  if (!formData.opcoes.ilhos) return 0;
  const qtd = parseInt(formData.ilhosQtd) || 0;
  const valorUnit = parseBR(formData.ilhosValorUnitario);
  return qtd * valorUnit;
}, [formData.opcoes.ilhos, formData.ilhosQtd, formData.ilhosValorUnitario]);

// Calcula total de cordinha (s√≥ recalcula se mudar)
const valorTotalCordinha = useMemo(() => {
  if (!formData.opcoes.cordinha) return 0;
  const qtd = parseInt(formData.cordinhaQtd) || 0;
  const valorUnit = parseBR(formData.cordinhaValorUnitario);
  return qtd * valorUnit;
}, [formData.opcoes.cordinha, formData.cordinhaQtd, formData.cordinhaValorUnitario]);

// Calcula valor total geral (s√≥ recalcula se mudar)
const valorTotalGeral = useMemo(() => {
  const valorPainel = parseBR(formData.valorPainel);
  const valorAdicionais = parseBR(formData.valorAdicionais);
  const total = valorPainel + valorAdicionais + valorTotalIlhos + valorTotalCordinha;
  return total;
}, [formData.valorPainel, formData.valorAdicionais, valorTotalIlhos, valorTotalCordinha]);
```

### Dados Salvos

```javascript
{
  "tipoProducao": "painel",
  "tipo": "painel",
  "valor": "167,00",              // ‚Üê TOTAL INTEGRADO!
  "valorIlhos": "4,00",           // ‚Üê Subtotal ilh√≥s
  "valorCordinha": "3,00",        // ‚Üê Subtotal cordinha
  "valorPainel": "150,00",        // ‚Üê Valor base
  "valorAdicionais": "10,00",     // ‚Üê Extras
  // ... outros campos
}
```

---

## üéâ Resumo

### ‚úÖ O que est√° FUNCIONANDO:

1. ‚úÖ **C√°lculos autom√°ticos** de ilh√≥s e cordinha
2. ‚úÖ **Integra√ß√£o no valor total** em tempo real
3. ‚úÖ **Resumo visual** com composi√ß√£o detalhada
4. ‚úÖ **Formata√ß√£o autom√°tica** de moeda
5. ‚úÖ **Performance otimizada** com useMemo
6. ‚úÖ **Badge** indicando quando h√° extras
7. ‚úÖ **Cores diferenciadas** para cada item
8. ‚úÖ **Aparece automaticamente** ao preencher valores

### üé® Visual Profissional

- Gradiente roxo moderno
- Destaque em amarelo dourado para total
- Badges e indicadores visuais
- Anima√ß√µes suaves
- Layout limpo e organizado

---

**Vers√£o:** 2.0.0  
**Data:** 08/10/2025  
**Status:** ‚úÖ Totalmente Integrado e Funcional


